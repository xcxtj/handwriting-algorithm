style scoped 隔离 属性选择器 div[data-v-451232]



### 为什么js操作 DOM 慢

dom属于渲染引擎，js引擎和渲染引擎跨界交流依赖接口，开销大。

修改dom后重排重绘



### dom树转换

字节流》字符串》标记token》节点node》dom树

cssom同理 css匹配元素消耗性能，继承要少

render树中包含节点和样式（只有需要显示的） 比如识别display none

重排 计算位置和大小

重绘 

js操作css要有完整cssom，浏览器会先下载和构建CSSOM，然后再执行JavaScript，最后在继续构建DOM。阻塞dom解析



# 瀑布流 虚拟列表

多列等宽不等高，动态加载无限滚动，插入高度最小列



# seo

alt用于image失败后替换

只有一个h1



403 csrf 的refer和origin



pnpm软连接 重复下载



# 虚拟列表 

频繁dom计算 短暂白屏，多预加载几条



cdn 大的包放在静态地址，引入地址，减少打包体积。分布式，加快访问速度。减少源服务器压力、减少首次请求响应时间、避免静态资源携带主域名的Cookie信息、考虑浏览器同一域名下并发请求限制



触发option请求  跨域预检。自定义请求头

html渲染 css转换（rem，继承，层叠处理）

ast 字节码（跨机器平台适配） 机器码





jsonp 前端

![image-20240815180211633](C:\Users\XTJ\AppData\Roaming\Typora\typora-user-images\image-20240815180211633.png)

node后端  

![image-20240815180320915](C:\Users\XTJ\AppData\Roaming\Typora\typora-user-images\image-20240815180320915.png)

cors ![image-20240816164029664](C:\Users\XTJ\AppData\Roaming\Typora\typora-user-images\image-20240816164029664.png)

​                           



seo爬虫抓不到ajax内容

sse chatgpt返回，实时数据大屏



seo 需要读取页面上的h1h2之类的。spa vue是基于js实时挂载到app上的，页面本质上是空的，不利于seo。ssr 代价大，全部转换

预渲染 无头浏览器